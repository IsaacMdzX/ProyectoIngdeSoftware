<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr.sneakers - Gestión de Usuarios</title>
    
    <link rel="icon" href="{{ url_for('static', filename='images/Shoe_Logo.jpg') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/estilo_gestionclien.css') }}">
</head>
<body>
    <div class="container">
        <aside class="sidebar"> 
            <div class="logo">
                <img src="{{ url_for('static', filename='images/trsneakers_logo.png') }}" alt="Tr.sneakers Logo" class="logo-img">
            </div>
            <ul class="nav-links">
                <li><a href="{{ url_for('admin.inventario_tenis') }}">Home</a></li>                
                <li><a href="{{ url_for('admin.inventario_tenis') }}" class="categoria-btn">Inventario</a></li>               
                <li class="active"><a href="{{ url_for('admin.gestion_usuarios') }}">Usuarios</a></li>
                <li><a href="{{ url_for('admin.cambiar_contrasena') }}">Configuración</a></li>
                <li><a href="{{ url_for('auth.logout') }}">Cerrar Sesión</a></li>
            </ul>
        </aside>

        <main class="contenido-principal-completo">
            <div class="header">              
                <h1>USUARIOS</h1>
                <div class="info-usuario">
                    <span>Administrador</span>
                </div>
            </div>

            <div class="contenedor-tabla-usuarios">
                <div class="barra-herramientas">
                    <div class="busqueda">
                        <input type="text" class="campo-busqueda" placeholder="Buscar usuario...">
                        <button class="boton-buscar">Buscar</button>
                    </div>
                    <a href="{{ url_for('admin.agregar_usuario') }}" class="boton-agregar">+ Agregar Usuario</a>
                </div>

                <div class="tabla-contenedor">
                    <table class="tabla-usuarios">
                        <thead>
                            <tr>
                                <th class="columna-checkbox"><input type="checkbox"></th>
                                <th class="columna-id">ID</th>
                                <th class="columna-nombre">NOMBRE COMPLETO</th>
                                <th class="columna-email">EMAIL</th>
                                <th class="columna-telefono">TELÉFONO</th>
                                <th class="columna-contraseña">CONTRASEÑA</th>
                                <th class="columna-rol">ROL</th>
                                <th class="columna-acciones">ACCIONES</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for cliente in clientes %}
                            <tr class="fila-usuario">
                                <td class="columna-checkbox"><input type="checkbox"></td>
                                <td class="columna-id">{{ cliente.id_cliente }}</td>
                                <td class="columna-nombre">{{ cliente.nombre_cliente }}</td>
                                <td class="columna-email">{{ cliente.email }}</td>
                                <td class="columna-telefono">{{ cliente.telefono }}</td>
                                <td class="columna-contraseña">********</td>
                                <td class="columna-rol">Cliente</td>
                                <td class="columna-acciones">
                                    <a href="{{ url_for('admin.editar_usuario', rol='cliente', id=cliente.id_cliente) }}" class="boton-editar">Editar</a>
                                    <form action="{{ url_for('admin.eliminar_usuario', rol='cliente', id=cliente.id_cliente) }}" method="POST" style="display:inline;">
                                        <button type="submit" class="boton-eliminar" onclick="return confirm('¿Estás seguro de que quieres eliminar a este cliente?');">Eliminar</button>
                                    </form>
                                </td>
                            </tr>
                            {% endfor %}
                            
                            {% for admin in admins %}
                            <tr class="fila-usuario">
                                <td class="columna-checkbox"><input type="checkbox"></td>
                                <td class="columna-id">{{ admin.id_admin }}</td>
                                <td class="columna-nombre">{{ admin.nombre_admin }}</td>
                                <td class="columna-email">{{ admin.correo }}</td>
                                <td class="columna-telefono">{{ admin.telefono }}</td>
                                <td class="columna-contraseña">********</td>
                                <td class="columna-rol">Administrador</td>
                                <td class="columna-acciones">
                                    <a href="{{ url_for('admin.editar_usuario', rol='admin', id=admin.id_admin) }}" class="boton-editar">Editar</a>
                                    <form action="{{ url_for('admin.eliminar_usuario', rol='admin', id=admin.id_admin) }}" method="POST" style="display:inline;">
                                        <button type="submit" class="boton-eliminar" onclick="return confirm('¿Estás seguro de que quieres eliminar a este administrador?');">Eliminar</button>
                                    </form>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

                <div class="paginacion">
                </div>
            </div>
        </main>
    </div>
</body>
</html>